<section class="flex w-100">
  <nav class="bg-gray-200 gray-800 w-6 h-100vh flex flex-column justify-between">
    <div class="flex flex-column overflow-y-scroll">
      <header class="h-4 pa-3 flex items-center gap-2 w-100 mt-3">
        <span class="w-4">
          <%= svg("architectural-icon") %>
        </span>
        <h1 class="f-5 ma-0"><%= t(:adrpg) %></h1>
      </header>
      <div class="pa-3">
        <% if can_add_new? %>
          <a href="<%= NewDraftAdrPage.routing %>" class="green-500 f-3 tc w-100 db ba br-1 pa-2"><%= t(:add_new) %></a>
        <% else %>
          <%= t(:add_new_limit_exceeded) %>
        <% end %>
      </div>
      <%= component(AdrsPage::TabComponent.new(
        tabs: {
          accepted: "check-mark-icon",
          drafts: "edit-list-icon",
          replaced: "change-icon",
          rejected: "recycle-bin-line-icon",
        },
        selected_tab: tab,
        css_class: "adr-page-tabs",
      )) %>
    <adr-include-query-params show-warnings>
      <form class="pa-3">
        <div class="pt-3 bt bc-gray-300">
          <div class="flex flex-column gap-2 items-end">
            <input type="search" name="tag" value="<%= tag %>" id="tag-search-input" class="f-1 ba br-0 blw-0 ph-2 btw-0 brw-0 bc-gray-700 bg-gray-900" placeholder="e.g. OOP">
            <label for="tag-search-input" class="f-1 i"><%= t(:filter_by_tag) %></label>
            <% if filtered_by_tag? %>
              <a href="?" class="blue-800 f-1"><%= t(:remove_filter) %></a>
            <% end %>
          </div>
          <button class="sr-only"><%= t(:filter_by_tag) %></button>
        </div>
      </form>
    </adr-include-query-params>
    </div>
    <div class="w-100 bg-gray-300 gray-900 flex flex-column gap-2 ph-3 pv-3">
      <a class="orange-800 f-1 db" href="<%= LogoutHandler.routing %>"><%= t(:help) %></a>
      <a class="orange-800 f-1 db" href="<%= LogoutHandler.routing %>"><%= t(:logout) %></a>
    </div>
  </nav>
  <section class="bg-gray-900 gray-100 w-100 h-100vh pb-3 flex flex-column items-start">
    <%= component(AnnouncementBannerComponent) %>
    <div class="overflow-y-scroll w-100">
      <%= component(
        AdrsPage::TabPanelComponent.new(adrs: accepted_adrs,
                                        selected: tab == :accepted,
                                        tab: :accepted,
                                        columns: [ :title, :accepted_at ],
                                        action: :view)
      ) %>
      <%= component(
        AdrsPage::TabPanelComponent.new(adrs: draft_adrs,
                                        tab: :drafts,
                                        selected: tab == :drafts,
                                        columns: [ :title, :created_at ],
                                        action: :edit)
      )%>
      <%= component(
        AdrsPage::TabPanelComponent.new(adrs: replaced_adrs,
                                        selected: tab == :replaced,
                                        tab: :replaced,
                                        columns: [ :title, :created_at ],
                                        action: :view)
      ) %>
      <%= component(
        AdrsPage::TabPanelComponent.new(adrs: rejected_adrs,
                                        tab: :rejected,
                                        selected: tab == :rejected,
                                        columns: [ :title, :created_at, :rejected_at ],
                                        action: :view)
      )%>
    </div>
  </section>
</section>
